(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{DwSU:function(t,e,i){"use strict";i.r(e),i.d(e,"ShortlistModule",(function(){return Y}));var c=i("8AiQ"),n=i("D57K"),r=i("to4i"),o=i("AwSQ"),a=i("4Xmu"),s=i("2Mvu"),d=i("FlLz"),u=i("YOe6"),p=i("ZSGP"),l=i("1C3z"),f=i("iZ6s"),h=i("CmgH"),v=i("Z+in"),b=i("dIiP"),m=i("i+Mk"),g=i("yDAG");function S(t,e){if(1&t){var i=l.ec();l.dc(0,"button",14),l.lc("click",(function(){return l.Jc(i),l.oc(3).requestAll()})),l.Yb(1,"i",15),l.Uc(2," Request"),l.cc()}if(2&t){var c=l.oc(3);l.vc("disabled",c.selCandidates.length<1)}}function y(t,e){if(1&t){var i=l.ec();l.dc(0,"input",37),l.lc("change",(function(t){l.Jc(i);var e=l.oc().$implicit;return l.oc(3).checkValue(t,e)})),l.cc()}}function w(t,e){if(1&t&&(l.dc(0,"div",33),l.Uc(1),l.cc()),2&t){var i=l.oc().$implicit;l.Jb(1),l.Vc(i.email)}}function q(t,e){1&t&&(l.dc(0,"div",33),l.Uc(1,"Awaiting Approval"),l.cc())}function U(t,e){1&t&&(l.dc(0,"div",33),l.Uc(1,"Request Candidate"),l.cc())}function C(t,e){if(1&t&&(l.dc(0,"li"),l.dc(1,"div",30),l.Uc(2,"Company Type:"),l.cc(),l.dc(3,"div",33),l.Uc(4),l.cc(),l.cc()),2&t){var i=l.oc().$implicit;l.Jb(4),l.Vc(i.type)}}function J(t,e){if(1&t&&(l.dc(0,"li"),l.dc(1,"div",30),l.Uc(2,"Company Size:"),l.cc(),l.dc(3,"div",33),l.Uc(4),l.cc(),l.cc()),2&t){var i=l.oc().$implicit;l.Jb(4),l.Vc(i.size)}}function R(t,e){if(1&t&&(l.dc(0,"li"),l.dc(1,"div",30),l.Uc(2,"Projects:"),l.cc(),l.dc(3,"div",33),l.Uc(4),l.cc(),l.cc()),2&t){var i=l.oc().$implicit;l.Jb(4),l.Vc(i.projectNo)}}function k(t,e){if(1&t&&(l.dc(0,"li"),l.dc(1,"div",30),l.Uc(2,"Skill Sets:"),l.cc(),l.dc(3,"div",33),l.Uc(4),l.cc(),l.cc()),2&t){var i=l.oc().$implicit;l.Jb(4),l.Vc(i.skills.length)}}function j(t,e){if(1&t){var i=l.ec();l.dc(0,"div",42),l.dc(1,"button",43),l.lc("click",(function(){l.Jc(i);var t=l.oc(2).$implicit;return l.oc(3).request(t)})),l.Yb(2,"i",44),l.Uc(3," Request Candidate"),l.cc(),l.dc(4,"button",45),l.lc("click",(function(){l.Jc(i);var t=l.oc(2).$implicit;return l.oc(3).delete(t)})),l.Yb(5,"i",46),l.Uc(6," Remove"),l.cc(),l.cc()}if(2&t){var c=l.oc(2).$implicit,n=l.oc(3);l.Jb(1),l.vc("disabled",n.requested.includes(c.id))}}function O(t,e){1&t&&(l.dc(0,"div",38),l.dc(1,"button",39),l.Yb(2,"i",40),l.cc(),l.Sc(3,j,7,1,"div",41),l.cc())}function I(t,e){if(1&t){var i=l.ec();l.dc(0,"div",16),l.dc(1,"div",17),l.dc(2,"div",18),l.dc(3,"div",19),l.dc(4,"div",20),l.Sc(5,y,1,0,"input",21),l.dc(6,"div",22),l.dc(7,"div",23),l.lc("click",(function(){l.Jc(i);var t=e.$implicit;return l.oc(3).viewDetails(t)})),l.Yb(8,"app-uploads",24),l.cc(),l.cc(),l.dc(9,"div",25),l.dc(10,"div",18),l.dc(11,"div",26),l.dc(12,"div",27),l.lc("click",(function(){l.Jc(i);var t=e.$implicit;return l.oc(3).viewDetails(t)})),l.dc(13,"h3",28),l.Uc(14),l.cc(),l.cc(),l.dc(15,"ul",29),l.dc(16,"li"),l.dc(17,"div",30),l.Uc(18,"Email:"),l.cc(),l.Sc(19,w,2,1,"div",31),l.Sc(20,q,2,0,"div",31),l.Sc(21,U,2,0,"div",31),l.cc(),l.Sc(22,C,5,1,"li",32),l.Sc(23,J,5,1,"li",32),l.Sc(24,R,5,1,"li",32),l.Sc(25,k,5,1,"li",32),l.cc(),l.cc(),l.dc(26,"div",26),l.dc(27,"ul",29),l.dc(28,"li"),l.dc(29,"div",30),l.Uc(30,"Title:"),l.cc(),l.dc(31,"div",33),l.Uc(32),l.cc(),l.cc(),l.dc(33,"li",34),l.dc(34,"div",30),l.Uc(35,"Bio:"),l.cc(),l.Yb(36,"div",35),l.pc(37,"sanitizeHtml"),l.cc(),l.cc(),l.cc(),l.cc(),l.cc(),l.Sc(38,O,4,0,"div",36),l.cc(),l.cc(),l.cc(),l.cc(),l.cc()}if(2&t){var c=e.$implicit,n=l.oc(3);l.Jb(5),l.vc("ngIf",n.loginUser.companyName&&!n.requested.includes(c.id)),l.Jb(3),l.vc("avatarUrl",c.avatar)("fileStorage",n.getPassport(c))("uploadLabel","")("disableUpload",!0)("uploadName",""),l.Jb(6),l.Wc("",c.name?c.name:c.companyName," "),l.Jb(5),l.vc("ngIf",n.loginUser.companyName&&n.requested.includes(c.id)&&n.approved.includes(c.id)),l.Jb(1),l.vc("ngIf",n.loginUser.companyName&&n.requested.includes(c.id)&&!n.approved.includes(c.id)),l.Jb(1),l.vc("ngIf",n.loginUser.companyName&&!n.requested.includes(c.id)),l.Jb(1),l.vc("ngIf",!n.loginUser.companyName),l.Jb(1),l.vc("ngIf",!n.loginUser.companyName),l.Jb(1),l.vc("ngIf",n.loginUser.companyName),l.Jb(1),l.vc("ngIf",n.loginUser.companyName),l.Jb(7),l.Vc(c.title?c.title:"Profile Title"),l.Jb(4),l.vc("innerHtml",l.qc(37,17,c.description),l.Kc),l.Jb(2),l.vc("ngIf",n.loginUser.companyName)}}function P(t,e){if(1&t&&(l.dc(0,"div",3),l.dc(1,"div",4),l.dc(2,"div",5),l.dc(3,"div",6),l.dc(4,"div",7),l.dc(5,"div",8),l.dc(6,"h4"),l.Uc(7),l.dc(8,"div",9),l.Sc(9,S,3,1,"button",10),l.Yb(10,"input",11),l.cc(),l.cc(),l.cc(),l.cc(),l.cc(),l.dc(11,"div",12),l.Sc(12,I,39,19,"div",13),l.cc(),l.cc(),l.cc(),l.cc()),2&t){var i=l.oc(2);l.Jb(7),l.Wc("",i.loginUser.companyName?"Shortlisted Candidates":"Potential Recruiters"," "),l.Jb(2),l.vc("ngIf",i.loginUser.companyName),l.Jb(1),l.vc("formControl",i.search),l.Jb(2),l.vc("ngForOf",i.dataSet)}}function L(t,e){if(1&t&&(l.dc(0,"div"),l.Sc(1,P,13,4,"div",2),l.cc()),2&t){var i=l.oc();l.Jb(1),l.vc("ngIf",i.dataLoaded)}}function N(t,e){if(1&t){var i=l.ec();l.dc(0,"div"),l.dc(1,"app-profile-view",47),l.lc("closed",(function(){return l.Jc(i),l.oc().close()})),l.cc(),l.cc()}if(2&t){var c=l.oc();l.Jb(1),l.vc("enableEdit",!1)("candidate",!!c.loginUser.companyName)("enableClose",!0)("enableShortlist",!1)("user",c.getUser(c.selProfile))("profile",c.selProfile)}}var A=function(){function t(t,e,i,c,n){this.http=t,this.dataService=e,this.messageService=i,this.confirmService=c,this.profileService=n,this.view=1,this.dataSet=[],this.allData=[],this.dataLoaded=!1,this.search=new p.d("",p.w.required),this.selCandidates=[],this.requested=[],this.approved=[]}return t.prototype.ngOnInit=function(){var e=this;this.loginUser=this.dataService.getUser(),this.profileService.getMyProfile().pipe(Object(s.a)()).subscribe((function(t){e.loginProfile=t,e.loginUser.companyName?e.http.getRecruiterRequestList(t.id).pipe(Object(s.a)()).subscribe((function(t){e.requested=t.filter((function(t){return t.requested})).map((function(t){return t.cid})),e.approved=t.filter((function(t){return t.approved})).map((function(t){return t.cid}))})):e.http.getCandidatesRequestList(t.id).pipe(Object(s.a)()).subscribe((function(t){return e.requested=t.filter((function(t){return t.requested})).map((function(t){return t.cid}))}))})),this.refresh(),this.search.valueChanges.subscribe((function(i){e.dataLoaded&&(e.dataSet=i.length<1?e.allData:e.allData.filter((function(e){var c,n;return(null===(c=e.name)||void 0===c?void 0:c.toLowerCase().includes(i.toLowerCase()))||(null===(n=e.companyName)||void 0===n?void 0:n.toLowerCase().includes(i.toLowerCase()))||t.flatSkills(e).includes(i.toLowerCase())})))}))},t.prototype.refresh=function(){var t=this;this.http.getShortLists().pipe(Object(s.a)()).subscribe((function(e){t.dataSet=e,t.allData=e,t.dataLoaded=!0}))},t.prototype.getPassport=function(t){var e;return(null===(e=t.user)||void 0===e?void 0:e.passport)?[t.user.passport]:[new d.a]},t.prototype.viewDetails=function(t){this.selProfile=t,this.view=2},t.prototype.close=function(){this.view=1},t.prototype.getUser=function(t){return t.user?t.user:new u.a},t.flatSkills=function(t){return t.skills?t.skills.join(", ").toLowerCase():""},t.prototype.delete=function(t){var e=this;this.selProfile=t,this.confirmService.confirm({message:"Are you sure you want to remove "+t.name+" from list?",header:"Remove Confirmation",icon:"pi pi-exclamation-triangle",accept:function(){e.http.saveShortLists({id:t.id,action:"remove"}).pipe(Object(s.a)()).subscribe((function(){e.dataSet=e.dataSet.filter((function(e){return e!==t})),e.allData=e.allData.filter((function(e){return e!==t})),e.messageService.add({severity:"success",summary:"Remove Success",detail:t.name.toUpperCase()+" removed from list!"})}))},reject:function(){}})},t.prototype.request=function(t){var e=this;this.http.saveRequest({rid:this.loginProfile.id,cid:t.id,requested:!0}).pipe(Object(s.a)()).subscribe((function(i){e.requested=Object(n.i)(e.requested,[t.id]),e.messageService.add({severity:"success",summary:t.name+" detail request forwarded to Admin!"})}))},t.prototype.checkValue=function(t,e){t.target.checked?this.selCandidates.push(e):this.selCandidates=this.selCandidates.filter((function(t){return t!=t}))},t.prototype.requestAll=function(){var t=this;if(!(this.selCandidates.length<1)){var e=[];this.selCandidates.forEach((function(i){e.push({rid:t.loginProfile.id,cid:i.id,requested:!0})})),this.http.saveAllRequest(e).pipe(Object(s.a)()).subscribe((function(){t.requested=Object(n.i)(t.requested,e.map((function(t){return t.cid}))),t.selCandidates=[],t.messageService.add({severity:"success",summary:"Selected candidates request forwarded to Admin"})}))}},t.\u0275fac=function(e){return new(e||t)(l.Xb(r.a),l.Xb(o.a),l.Xb(f.g),l.Xb(f.b),l.Xb(a.a))},t.\u0275cmp=l.Rb({type:t,selectors:[["app-shortlist"]],decls:3,vars:3,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],["class","animated fadeIn",4,"ngIf"],[1,"animated","fadeIn"],[1,"row","py-3","px-4"],[1,"col-md-10","mx-auto"],[1,"bg-white","shadow","rounded","overflow-hidden"],[1,"card","pb-0","mb-0"],[1,"card-header"],[1,"file-options","float-right","mr-2"],["class","btn btn-ghost-success btn-sm mr-3","title","Request Selected Candidates",3,"disabled","click",4,"ngIf"],["placeholder","Search",3,"formControl"],[1,"py-4"],["class","card animated fadeIn shadow",4,"ngFor","ngForOf"],["title","Request Selected Candidates",1,"btn","btn-ghost-success","btn-sm","mr-3",3,"disabled","click"],[1,"fa","fa-telegram"],[1,"card","animated","fadeIn","shadow"],[1,"card-body"],[1,"row"],[1,"col-md-12"],[1,"profile-view"],["type","checkbox",3,"change",4,"ngIf"],[1,"profile-img-wrap"],[1,"profile-img",3,"click"],[3,"avatarUrl","fileStorage","uploadLabel","disableUpload","uploadName"],[1,"profile-basic"],[1,"col-md-6"],[1,"profile-info-left",3,"click"],[1,"user-name","m-t-0","mb-0"],[1,"personal-info"],[1,"title"],["class","text",4,"ngIf"],[4,"ngIf"],[1,"text"],[1,"d-block"],[1,"text",3,"innerHtml"],["dropdown","","class","pro-edit",4,"ngIf"],["type","checkbox",3,"change"],["dropdown","",1,"pro-edit"],["dropdownToggle","","tooltip","Options",1,"edit-icon"],[1,"fa","fa-ellipsis-v"],["class","dropdown-menu dropdown-menu-right",4,"dropdownMenu"],[1,"dropdown-menu","dropdown-menu-right"],[1,"btn","btn-block","btn-sm","btn-ghost-success",3,"disabled","click"],[1,"fa","fa-plus"],[1,"btn","btn-block","btn-sm","btn-ghost-danger",3,"click"],[1,"fa","fa-trash-o"],[3,"enableEdit","candidate","enableClose","enableShortlist","user","profile","closed"]],template:function(t,e){1&t&&(l.dc(0,"div",0),l.Sc(1,L,2,1,"div",1),l.Sc(2,N,2,6,"div",1),l.cc()),2&t&&(l.vc("ngSwitch",e.view),l.Jb(1),l.vc("ngSwitchCase",1),l.Jb(1),l.vc("ngSwitchCase",2))},directives:[c.o,c.p,c.m,p.b,p.o,p.e,c.l,h.a,v.a,v.d,b.a,v.b,m.a],pipes:[g.a],styles:[""]}),t}(),D=i("5/c3"),$=i("TkPj"),V=i("cFi/"),x=i("HiMq"),T=[{path:"",data:{title:"Chat"},children:[{path:"",component:A,data:{title:""}}]}],Y=function(){function t(){}return t.\u0275mod=l.Vb({type:t}),t.\u0275inj=l.Ub({factory:function(e){return new(e||t)},imports:[[c.c,D.g.forChild(T),$.a,V.a,b.b.forRoot(),x.a,p.t,v.c]]}),t}()},to4i:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var c=i("Jg5f"),n=i("Mumn"),r=i("1C3z"),o=i("t5c9"),a=function(){function t(t){this.http=t,this.apiSearch=n.a.mainUrl+n.a.apiUrl+"/search",this.apiRequest=n.a.mainUrl+n.a.apiUrl+"/request",this.apiPages=n.a.mainUrl+n.a.apiUrl+"/snippets"}return t.prototype.search=function(t){return this.http.post(this.apiSearch,t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getShortLists=function(){return this.http.get(this.apiSearch+"/shortlist").pipe(Object(c.a)((function(t){return t})))},t.prototype.getRecruiterShortLists=function(t){return this.http.get(this.apiSearch+"/shortlist/"+t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getSearchAnalytics=function(t){return this.http.get(this.apiSearch+"/terms/"+t).pipe(Object(c.a)((function(t){return t})))},t.prototype.saveShortLists=function(t){return this.http.post(this.apiSearch+"/shortlist",t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getRequest=function(){return this.http.get(this.apiRequest).pipe(Object(c.a)((function(t){return t})))},t.prototype.getRequestList=function(){return this.http.get(this.apiRequest+"/list").pipe(Object(c.a)((function(t){return t})))},t.prototype.getRecruiterRequest=function(t){return this.http.get(this.apiRequest+"/rid/"+t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getRecruiterRequestList=function(t){return this.http.get(this.apiRequest+"/list/rid/"+t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getCandidatesRequestList=function(t){return this.http.get(this.apiRequest+"/list/cid/"+t).pipe(Object(c.a)((function(t){return t})))},t.prototype.saveRequest=function(t){return this.http.post(this.apiRequest,t).pipe(Object(c.a)((function(t){return t})))},t.prototype.toggleRequestApproval=function(t){return this.http.get(this.apiRequest+"/toggle/"+t).pipe(Object(c.a)((function(t){return t})))},t.prototype.saveAllRequest=function(t){return this.http.post(this.apiRequest+"/all",t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getToken=function(){return this.http.get(this.apiSearch+"/token").pipe(Object(c.a)((function(t){return t})))},t.prototype.getTokenPage=function(){return this.http.get(this.apiPages+"/name/token").pipe(Object(c.a)((function(t){return t})))},t.prototype.saveSnippet=function(t){return this.http.post(this.apiPages,t).pipe(Object(c.a)((function(t){return t})))},t.prototype.getPages=function(){return this.http.get(this.apiPages).pipe(Object(c.a)((function(t){return t})))},t.prototype.deletePages=function(t){return this.http.delete(this.apiPages+"/remove/"+t).pipe(Object(c.a)((function(t){return t})))},t.\u0275fac=function(e){return new(e||t)(r.hc(o.b))},t.\u0275prov=r.Tb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);