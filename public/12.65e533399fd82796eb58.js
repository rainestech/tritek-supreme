(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"7wo0":function(e,t,c){"use strict";c.r(t),c.d(t,"SettingsModule",(function(){return B}));var r=c("8AiQ"),i=c("AwSQ"),o=c("1C3z"),s=c("BHMM"),a=c("D57K"),n=c("ZSGP"),d=c("374y"),u=(c("YOe6"),c("Oaad")),l=c("4Xmu"),p=c("aOG3"),m=c("2Mvu"),f=c("iZ6s"),h=c("CmgH"),b=c("hOvr"),v=c("TDrE"),g=c("fb+k"),y=c("DdyX");function S(e,t){if(1&e){var c=o.ec();o.dc(0,"button",32),o.lc("click",(function(){return o.Jc(c),o.oc(2).close()})),o.Yb(1,"i",33),o.cc()}}function U(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," Last Name is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function w(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," First Name is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function q(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," Personal Contact Email is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function C(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," Role is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function I(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," Skill Set is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function k(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," Address is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function N(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," City is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function P(e,t){1&e&&(o.dc(0,"mat-error"),o.Uc(1," Country is "),o.dc(2,"strong"),o.Uc(3,"required"),o.cc(),o.cc())}function J(e,t){if(1&e){var c=o.ec();o.dc(0,"div",1),o.dc(1,"div",2),o.dc(2,"div",3),o.dc(3,"div",4),o.dc(4,"h4"),o.Uc(5),o.cc(),o.Sc(6,S,2,0,"button",5),o.cc(),o.cc(),o.cc(),o.dc(7,"div",6),o.dc(8,"form",7),o.dc(9,"div",8),o.dc(10,"div",9),o.dc(11,"div",10),o.dc(12,"h4"),o.Uc(13,"Account Data"),o.cc(),o.Yb(14,"hr"),o.cc(),o.dc(15,"div",11),o.dc(16,"app-uploads",12),o.lc("fileStorageUploads",(function(e){return o.Jc(c),o.oc().updatePassport(e)})),o.cc(),o.cc(),o.dc(17,"div",13),o.dc(18,"mat-form-field",14),o.Yb(19,"input",15),o.Sc(20,U,4,0,"mat-error",16),o.cc(),o.dc(21,"mat-form-field",17),o.Yb(22,"input",18),o.Sc(23,w,4,0,"mat-error",16),o.cc(),o.dc(24,"mat-form-field",17),o.Yb(25,"input",19),o.Sc(26,q,4,0,"mat-error",16),o.cc(),o.cc(),o.dc(27,"div",10),o.dc(28,"button",20),o.lc("click",(function(){return o.Jc(c),o.oc().submitAccount()})),o.Uc(29,"Save Account Information"),o.cc(),o.cc(),o.cc(),o.cc(),o.cc(),o.dc(30,"form",21),o.dc(31,"div",9),o.dc(32,"div",10),o.dc(33,"h4"),o.Uc(34,"Profile Data"),o.cc(),o.Yb(35,"hr"),o.cc(),o.dc(36,"div",22),o.dc(37,"mat-form-field",14),o.Yb(38,"input",23),o.Sc(39,C,4,0,"mat-error",16),o.cc(),o.cc(),o.dc(40,"div",22),o.dc(41,"mat-form-field",14),o.Yb(42,"input",24),o.Sc(43,I,4,0,"mat-error",16),o.cc(),o.cc(),o.dc(44,"div",10),o.dc(45,"mat-form-field",25),o.Yb(46,"textarea",26),o.Sc(47,k,4,0,"mat-error",16),o.cc(),o.cc(),o.cc(),o.dc(48,"div",9),o.dc(49,"div",27),o.dc(50,"mat-form-field",14),o.Yb(51,"input",28),o.Sc(52,N,4,0,"mat-error",16),o.cc(),o.cc(),o.dc(53,"div",27),o.dc(54,"mat-form-field",14),o.Yb(55,"input",29),o.Sc(56,P,4,0,"mat-error",16),o.cc(),o.cc(),o.cc(),o.dc(57,"div",9),o.dc(58,"div",10),o.dc(59,"ckeditor",30),o.lc("ready",(function(e){return o.Jc(c),o.oc().onReady(e)})),o.cc(),o.cc(),o.cc(),o.dc(60,"div",31),o.dc(61,"button",20),o.lc("click",(function(){return o.Jc(c),o.oc().submitProfile()})),o.Uc(62,"Save Profile"),o.cc(),o.cc(),o.cc(),o.cc(),o.cc()}if(2&e){var r=o.oc();o.Jb(5),o.Vc(r.profile?"Update Profile":"Complete Your Profile"),o.Jb(1),o.vc("ngIf",r.enableClose),o.Jb(2),o.vc("formGroup",r.accountForm),o.Jb(8),o.vc("fileStorage",r.passport)("instantUpload",!1)("toastComplete",!1)("uploadLabel","Profile Photo")("uploadName","passport")("upload",!1),o.Jb(4),o.vc("ngIf",r.submitted&&r.a.lastName.hasError("required")),o.Jb(3),o.vc("ngIf",r.submitted&&r.a.firstName.hasError("required")),o.Jb(3),o.vc("ngIf",r.submitted&&r.a.contactEmail.hasError("required")),o.Jb(4),o.vc("formGroup",r.profileGroup),o.Jb(9),o.vc("ngIf",r.submitted&&r.f.role.hasError("required")),o.Jb(4),o.vc("ngIf",r.submitted&&r.f.skillSet.hasError("required")),o.Jb(4),o.vc("ngIf",r.submitted&&r.f.address.hasError("required")),o.Jb(5),o.vc("ngIf",r.submitted&&r.f.city.hasError("required")),o.Jb(4),o.vc("ngIf",r.submitted&&r.f.country.hasError("required")),o.Jb(3),o.vc("config",r.editorConfig)("editor",r.ckEditor)}}function E(e,t){1&e&&(o.dc(0,"div",1),o.Yb(1,"facebook-content-loader"),o.Yb(2,"facebook-content-loader"),o.Yb(3,"list-content-loader"),o.cc())}var O=function(){function e(e,t,c,r,i){this.formBuilder=e,this.http=t,this.dataStore=c,this.messageService=r,this.userService=i,this.dataLoaded=!1,this.submitted=!1,this.ckEditor=u,this.editedUser=new o.q,this.editedProfile=new o.q,this.closed=new o.q,this.enableClose=!1,this.editorConfig={removePlugins:"",toolbar:["heading","|","fontSize","fontFamily","|","bold","italic","underline","highlight","|","alignment","|","link","bulletedList","numberedList"],placeholder:"Brief Company description!"}}return Object.defineProperty(e.prototype,"a",{get:function(){return this.accountForm.controls},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"f",{get:function(){return this.profileGroup.controls},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.loginUser=this.dataStore.getUser(),this.accountForm=this.formBuilder.group({firstName:[this.loginUser.firstName,n.u.required],lastName:[this.loginUser.lastName,n.u.required],contactEmail:[this.loginUser.contactEmail,n.u.required],passport:[this.loginUser.passport,n.u.required]}),this.profile?this.init(this.profile):this.http.getMyProfile().pipe(Object(m.a)()).subscribe((function(t){e.init(t)}),(function(t){e.init({})}))},e.prototype.submitAccount=function(){var e=this;if(this.accountForm.updateValueAndValidity(),this.accountForm.invalid)this.submitted=!0;else{var t=this.user?this.user:this.loginUser;t.firstName=this.accountForm.controls.firstName.value,t.lastName=this.accountForm.controls.lastName.value,t.contactEmail=this.loginUser.email,t.passport=this.passport[0],this.user?this.userService.editUser(t).pipe(Object(m.a)()).subscribe((function(t){e.messageService.add({severity:"success",summary:"Account Information updated successfully"}),e.editedUser.emit(t)})):this.userService.editUser(t).pipe(Object(m.a)()).subscribe((function(t){e.messageService.add({severity:"success",summary:"Account Information updated successfully"})}))}},e.prototype.submitProfile=function(){var e=this;if(this.profileGroup.updateValueAndValidity(),this.profileGroup.invalid)this.submitted=!0;else{var t=this.profileGroup.value;if(this.profile){var c=Object(a.a)(Object(a.a)({},this.profile),t);this.http.editCandidates(c).pipe(Object(m.a)()).subscribe((function(t){e.messageService.add({severity:"success",summary:"Profile Information updated successfully"}),e.editedProfile.emit(t)}))}else this.http.saveCandidates(t).pipe(Object(m.a)()).subscribe((function(t){e.messageService.add({severity:"success",summary:"Profile Information saved successfully"}),e.editedProfile.emit(t)}))}},e.prototype.init=function(e){var t,c;if(this.profileGroup=this.formBuilder.group({role:[e.role,n.u.required],skillSet:[e.skillSet,n.u.required],city:[e.city,n.u.required],country:[e.country,n.u.required],description:[e.about,n.u.required],address:[e.address,n.u.required]}),!this.passport){var r=this.user?(null===(t=this.user.passport)||void 0===t?void 0:t.id)?this.user.passport:new d.a:this.loginUser&&(null===(c=this.loginUser.passport)||void 0===c?void 0:c.id)?this.loginUser.passport:new d.a;r.tag="passport",r.objID=this.user?this.user.id:this.loginUser.id,this.passport=[r]}this.dataLoaded=!0},e.prototype.onReady=function(e){e.ui.getEditableElement().parentElement.insertBefore(e.ui.view.toolbar.element,e.ui.getEditableElement())},e.prototype.updatePassport=function(e){this.accountForm.controls.passport.setValue(e),this.passport=[e]},e.prototype.close=function(){this.closed.emit(!0)},e.\u0275fac=function(t){return new(t||e)(o.Xb(n.b),o.Xb(l.a),o.Xb(i.a),o.Xb(f.g),o.Xb(p.a))},e.\u0275cmp=o.Rb({type:e,selectors:[["app-candidate-profile"]],inputs:{passport:"passport",logo:"logo",user:"user",profile:"profile",enableClose:"enableClose"},outputs:{editedUser:"editedUser",editedProfile:"editedProfile",closed:"closed"},decls:2,vars:2,consts:[["class","animated fadeIn py-3 px-4",4,"ngIf"],[1,"animated","fadeIn","py-3","px-4"],[1,"bg-white","shadow","rounded","overflow-hidden"],[1,"card","pb-0","mb-0"],[1,"card-header"],["class","btn btn-sm btn-danger float-right",3,"click",4,"ngIf"],[1,"my-4"],[3,"formGroup"],[1,"bg-white","shadow","p-3"],[1,"row"],[1,"col-12"],[1,"col-md-4","col-sm-6"],[3,"fileStorage","instantUpload","toastComplete","uploadLabel","uploadName","upload","fileStorageUploads"],[1,"col-md-8","col-sm-6"],[1,"d-block"],["formControlName","lastName","matInput","","placeholder","Last Name (Surname)","required",""],[4,"ngIf"],[1,"d-block","mt-3"],["formControlName","firstName","matInput","","placeholder","First name","required",""],["formControlName","contactEmail","matInput","","placeholder","Contact Email","required",""],[1,"btn","btn-ghost-primary","float-right",3,"click"],[1,"mt-3","bg-white","shadow","p-3",3,"formGroup"],[1,"col-md-6","col-sm-6"],["formControlName","role","matInput","","placeholder","Role","required",""],["formControlName","skillSet","matInput","","placeholder","Skill Set","required",""],[1,"d-block","mt-2"],["formControlName","address","matInput","","placeholder","Contact Address","required","","rows","3"],[1,"col-md-6"],["formControlName","city","matInput","","placeholder","City","required",""],["formControlName","country","matInput","","placeholder","Country","required",""],["formControlName","description",3,"config","editor","ready"],[1,"mt-3","pb-4"],[1,"btn","btn-sm","btn-danger","float-right",3,"click"],[1,"fa","fa-close"]],template:function(e,t){1&e&&(o.Sc(0,J,63,20,"div",0),o.Sc(1,E,4,0,"div",0)),2&e&&(o.vc("ngIf",t.dataLoaded),o.Jb(1),o.vc("ngIf",!t.dataLoaded))},directives:[r.m,n.w,n.n,n.g,h.a,b.c,n.a,v.b,n.m,n.e,n.s,g.a,b.b,y.b,y.c],styles:["[_nghost-%COMP%]     .ck-editor__editable{min-height:200px}.profile-head[_ngcontent-%COMP%]{transform:translateY(5rem)}.cover[_ngcontent-%COMP%]{background-image:url(https://images.unsplash.com/photo-1530305408560-82d13781b33a?auto=format&fit=crop&ixid=eyJhcHBfaWQiOjEyMDd9&ixlib=rb-1.2.1&q=80&w=1352);background-size:cover;background-repeat:no-repeat}"]}),e}();function Y(e,t){1&e&&(o.dc(0,"div"),o.Yb(1,"app-recruiter-profile"),o.cc())}function j(e,t){1&e&&(o.dc(0,"div"),o.Yb(1,"app-candidate-profile"),o.cc())}var A=function(){function e(e){this.dataService=e,this.view=1}return e.prototype.ngOnInit=function(){this.loginUser=this.dataService.getUser(),this.loginUser.companyName?(console.log(this.loginUser.companyName),this.view=1):this.view=2},e.\u0275fac=function(t){return new(t||e)(o.Xb(i.a))},e.\u0275cmp=o.Rb({type:e,selectors:[["app-settings"]],decls:6,vars:3,consts:[[1,"animated","fadeIn"],[1,"row","py-3","px-4"],[1,"col-md-10","mx-auto"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(e,t){1&e&&(o.dc(0,"div",0),o.dc(1,"div",1),o.dc(2,"div",2),o.dc(3,"div",3),o.Sc(4,Y,2,0,"div",4),o.Sc(5,j,2,0,"div",4),o.cc(),o.cc(),o.cc(),o.cc()),2&e&&(o.Jb(3),o.vc("ngSwitch",t.view),o.Jb(1),o.vc("ngSwitchCase",1),o.Jb(1),o.vc("ngSwitchCase",2))},directives:[r.o,r.p,s.a,O],styles:[""]}),e}(),G=c("5/c3"),F=c("j/WB"),L=c("TkPj"),M=function(){function e(){}return e.\u0275mod=o.Vb({type:e}),e.\u0275inj=o.Ub({factory:function(t){return new(t||e)},imports:[[r.c,n.r,L.a,v.c,g.b,y.a]]}),e}(),x=[{path:"",data:{title:"Profile Settings"},children:[{path:"",component:A,data:{title:""}}]}],B=function(){function e(){}return e.\u0275mod=o.Vb({type:e}),e.\u0275inj=o.Ub({factory:function(t){return new(t||e)},imports:[[r.c,G.g.forChild(x),F.a,M]]}),e}()}}]);